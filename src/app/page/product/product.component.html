<div class="container">
  <div class="row">
    <div class="col-lg-8 col-md-10 mx-auto">
      <div class="card mb-3" >
        <div class="card-header">
          Product
          <button type="button" class="btn btn-outline-success float-right" data-toggle="modal" data-target="#myModal" (click)="setAction(0)">
            <i class="fas fa-plus"></i>
          </button>
        </div>
        <div class="card-body">
          <table class="table table-hover">
            <thead>
              <tr>
                <th scope="col" class="text-center">#</th>
                <th scope="col" class="text-center">id</th>
                <th scope="col" class="text-center">name</th>
                <th scope="col" class="text-center">detail</th>
                <th scope="col" class="text-center">price</th>
                <th scope="col" colspan="2" class="text-center">option</th>
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let row of productArr; let i = index">
                <th class="text-center" scope="row">{{i+1}}</th>
                <td class="text-center">{{row.id}}</td>
                <td class="text-center">{{row.name}}</td>
                <td class="text-center">{{row.detail}}</td>
                <td class="text-center">{{row.productPrice}}</td>
                <td class="text-center">
                  <button type="button" class="btn btn-outline-info" data-toggle="modal" data-target="#myModal" (click)="setAction(1, i)">
                    <i class="far fa-edit"></i>
                  </button>
                </td>
                <td class="text-center">
                  <button type="button" class="btn btn-outline-danger" data-toggle="modal" data-target="#myModal" (click)="setAction(2, i)">
                    <i class="far fa-trash-alt"></i>
                  </button>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
    </div>
  </div>
</div>
<!-- The Modal -->
<div class="modal" id="myModal">
  <div class="modal-dialog">
    <div class="modal-content">

      <!-- Modal Header -->
      <div class="modal-header">
        <h4 class="modal-title">{{selectedModal.name}}</h4>
        <button type="button" class="close" data-dismiss="modal">&times;</button>
      </div>

      <!-- Modal body -->
      <div class="modal-body" *ngIf="selectedModal.type == 0 || selectedModal.type == 1">
        <div class="form-group">
          <label >Name</label>
          <input class="form-control" placeholder="Enter name"  [(ngModel)]="selectedModal.data.product_name" />
        </div>
        <div class="form-group">
          <label for="exampleInputEmail1">Detail</label>
          <textarea class="form-control" rows="3" placeholder="Enter product detail" [(ngModel)]="selectedModal.data.product_detail"></textarea>
        </div>
        <div class="form-group">
          <label >Product Price</label>
          <input type="number" class="form-control" placeholder="Enter price"  [(ngModel)]="selectedModal.data.product_price" />
        </div>
      </div>

      <div class="modal-body" *ngIf="selectedModal.type == 2">
        คุณต้องการลบสินค้า <span class="text-info">{{selectedModal.data.product_name}}</span> ใช่หรือไม่<br/>
        <span class="text-danger">การการะทำนี้ไม่สามารถย้อนกลับได้</span>
      </div>

      <!-- Modal footer -->
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary float-left" data-dismiss="modal">Close</button>
        <button type="button" class="btn btn-info" data-dismiss="modal" (click)="submit()">Done</button>
      </div>

    </div>
  </div>
</div>